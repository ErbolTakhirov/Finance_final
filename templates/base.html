<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}SB FINANCE AI{% endblock %}</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; background: #f7f8fb; color: #111; }
    header { background: #111827; color: #fff; padding: 14px 18px; display: flex; align-items: center; justify-content: space-between; }
    header a { color: #fff; text-decoration: none; margin-right: 12px; }
    main { max-width: 1100px; margin: 20px auto; padding: 0 16px; }
    .card { background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 16px; margin-bottom: 16px; }
    .grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 16px; }
    .col-6 { grid-column: span 6; }
    .col-12 { grid-column: span 12; }
    .btn { background: #2563eb; color: #fff; border: 0; padding: 10px 12px; border-radius: 8px; cursor: pointer; }
    .btn-secondary { background: #374151; }
    .btn:disabled { opacity: 0.6; cursor: not-allowed; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 10px; border-bottom: 1px solid #e5e7eb; text-align: left; }
    .muted { color: #6b7280; }
    .progress { height: 10px; background: #e5e7eb; border-radius: 999px; overflow: hidden; }
    .progress > div { height: 10px; background: #22c55e; }
    .pill { display: inline-block; padding: 2px 8px; border-radius: 999px; background: #eef2ff; color: #3730a3; font-size: 12px; }
    .error { color: #b91c1c; }
    pre { white-space: pre-wrap; }
  </style>
  {% block head %}{% endblock %}
</head>
<body>
<header>
  <div>
    <a href="{% url 'dashboard' %}"><strong>SB FINANCE AI</strong></a>
    <a href="{% url 'transactions' %}">Transactions</a>
    <a href="{% url 'goals_page' %}">Goals</a>
    <a href="/api/finance/transactions/">API</a>
  </div>
  <div>
    {% if request.user.is_authenticated %}
      <span class="muted">{{ request.user.username }}</span>
      <a href="{% url 'logout' %}">Logout</a>
    {% else %}
      <a href="{% url 'login' %}">Login</a>
    {% endif %}
  </div>
</header>

<main>
  {% block content %}{% endblock %}
</main>

<script>
function getCookie(name) {
  let cookieValue = null;
  if (document.cookie && document.cookie !== '') {
    const cookies = document.cookie.split(';');
    for (let i = 0; i < cookies.length; i++) {
      const cookie = cookies[i].trim();
      if (cookie.substring(0, name.length + 1) === (name + '=')) {
        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
        break;
      }
    }
  }
  return cookieValue;
}
</script>
{% block scripts %}{% endblock %}
</body>
</html>
